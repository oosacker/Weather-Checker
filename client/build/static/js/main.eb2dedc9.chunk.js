(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{52:function(e,t,n){e.exports=n(72)},69:function(e,t,n){},72:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(10),o=n.n(r),i=n(24),l=n(15),s=n(110),u=n(111),m=(n(69),function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),n=t[0],r=t[1],o=Object(a.useState)([]),m=Object(i.a)(o,2),f=m[0],h=m[1],p=Object(a.useState)([]),d=Object(i.a)(p,2),b=d[0],E=d[1],g=Object(a.useState)([]),j=Object(i.a)(g,2),w=j[0],y=j[1],O=Object(a.useState)([]),C=Object(i.a)(O,2),N=C[0],S=C[1];Object(a.useEffect)((function(){v()}),[]),Object(a.useEffect)((function(){console.log("currentCountry",b),k()}),[b]),Object(a.useEffect)((function(){console.log("currentCity",f),T()}),[f]),Object(a.useEffect)((function(){console.log("weatherData",n)}),[n]);var v=function(){fetch("/get_countries").then((function(e){return e.json()})).then((function(e){y(e)})).catch((function(e){alert(e)}))},k=function(){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({country_code:b.code})};fetch("/get_cities",e).then((function(e){return e.json()})).then((function(e){S(e)})).catch((function(e){alert(e)}))},T=function(){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({city_id:f.id})};fetch("/get_weather",e).then((function(e){return e.json()})).then((function(e){r(e)})).catch((function(e){alert(e)}))};return c.a.createElement(l.Container,{className:"main-container"},c.a.createElement(l.Container,{className:"title-box"},c.a.createElement("h1",{className:"title"},"Weather Checker v2"),c.a.createElement("h3",{className:"sub-title"},"Natsuki Hasegawa, 2020"),c.a.createElement("p",null,"A simple web app that demonstrates a Node.js/Express backend server and a React frontend. The backend fetches the weather data for the selected city from OpenWeatherMap's API. The backend itself also implements a RESTful API for the frontend interface.")),c.a.createElement(l.Container,{className:"selection-box"},w&&c.a.createElement(l.Row,{align:"center",justify:"center",className:"row-1"},c.a.createElement(u.a,{options:w,getOptionLabel:function(e){return e.name},style:{width:300},renderInput:function(e){return c.a.createElement(s.a,Object.assign({},e,{label:"Select Country",variant:"outlined"}))},onChange:function(e,t,n){t?E(t):console.log("no country selected")}})),N&&c.a.createElement(l.Row,{align:"center",justify:"center",className:"row-2"},c.a.createElement(u.a,{options:N,getOptionLabel:function(e){return e.name},style:{width:300},renderInput:function(e){return c.a.createElement(s.a,Object.assign({},e,{label:"Select City",variant:"outlined"}))},onChange:function(e,t,n){t?h(t):console.log("no city selected")}}))),n.main&&c.a.createElement(l.Container,{className:"weather-result"},c.a.createElement(l.Row,{align:"center",justify:"center",className:"row-3"},c.a.createElement(l.Container,{className:"weather-result-inner"},c.a.createElement("h3",{className:"city-name"},n.name.toUpperCase()),c.a.createElement("p",null,"Temperature: ",n.main.temp," degC"),c.a.createElement("p",null,"Feels like: ",n.main.feels_like," degC"),c.a.createElement("p",null,"Humidity: ",n.main.humidity," %"),c.a.createElement("div",{className:"weather-icon-container"},c.a.createElement("img",{className:"weather-icon",src:"http://openweathermap.org/img/wn/".concat(n.weather[0].icon,".png")})),c.a.createElement("p",null,n.weather[0].main+": "+n.weather[0].description," ")))))});o.a.render(c.a.createElement(m,null),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.eb2dedc9.chunk.js.map